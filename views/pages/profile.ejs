<!DOCTYPE html>
<html lang="en">
<head>
    <%- include("../partials/meta") %>
    <title>Profile | Twitter Clone</title>
</head>
<body>
    <div class="container-fluid">
        <div class="row subContainer">

          <%- include("../partials/leftpartial") %>

          <div class="col-7 px-0 profile-central-box">
            <div class="d-flex flex-column profile-main-section">
                <div class="w-100 background-color-twitter profile-banner"></div>
                <div class="row w-100 profile-info px-3">
                    <div class="col-5 profile-info-subcontainer-right">
                        <img
                        <% if (user.image.includes("http")) {%>
                          src="<%= user.image %>"
                          <% } else {%>
                            src="/img/<%= user.image %>"
                            <% } %>  
                        class="profile-photo rounded-circle" 
                        alt="Profile photo">
                        <div class="position-absolute bottom-0">
                            <h2 class="fs-4 mb-1"><%= `${userData.firstname} ${userData.lastname}` %></h2>
                            <h4 class="follow-subtitle fw-light text-secondary">@<%= userData.username %></h4>
                        </div>
                    </div>
                    <div class="col-7 pt-3 profile-info-subcontainer-left">
                        <div class="d-flex flex-column align-items-end h-100">
                            <a class="btn follow-btn-medium text-white rounded-pill" href="#" role="button">Follow</a>
                            <div class="mt-auto">
                                <a class="text-black text-decoration-none me-3 small-text" href="/profile/<%= userData.username %>/following"><span class="fw-bold me-2"><%= userData.following.length %></span>Following</a> <a class="text-black text-decoration-none small-text" href="/profile/<%= userData.username %>/followers"><span class="fw-bold me-2"><%= userData.followers.length %></span>Followers</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <% for (const tweet of userData.tweetlist) { %>
              <div class="row tweet-list mt-3 gx-0">
                <div class="col-2 d-flex justify-content-center h-25">
                  <img src="<%= userData.image %>" alt="Profile image" class="rounded-circle home-tweet-profile-img"/>
                </div>

                <div class="col-10">
                  <h4 class="d-inline follow-content follow-title">
                    <%= userData.firstname%> <%= userData.lastname %>
                  </h4>
                  <h4 class="d-inline follow-subtitle text-secondary fw-light">@<%= userData.username%></h4>
                  <p class="tweet-content"><%= tweet.content %></p>
                  <section class="mb-3">
                    <i class="fa-solid fa-heart heart-likes"></i
                    ><small class="ms-2 number-likes"><%= tweet.likes.length %></small>
                  </section>
                </div>
              </div>
           <% } %>
        </div>
          <%- include("../partials/rigthpartial") %>

    </div>
    <%- include("../partials/script") %>
</body>
</html>